# 学生福祉监测系统 ------ 需求分析文档（中文）

## 1. 项目概述

本项目旨在构建一个原型系统，以整合和分析学生的学习参与度与福祉相关数据。学校目前分别收集： -
课程出勤记录 - 作业提交信息 - 每周福祉（Wellbeing）调查数据

但这些数据未整合在统一平台。本系统将提供一个原型，以展示数据采集、存储、分析和可视化的可行实现。

------------------------------------------------------------------------

## 2. 系统目标

-   统一存储与管理学术与福祉数据\
-   实现每周学生状态分析与趋势可视化\
-   支持 CRUD 操作\
-   自动检测高压力状态\
-   提供预警机制辅助早期干预

------------------------------------------------------------------------

## 3. 利益相关者及需求分析

### 3.1 学生福祉管理员（Student Wellbeing Officer）

主要关注学生的压力状态、情绪趋势和潜在风险学生。

**需求包括：** - 查看每周压力趋势图\
- 获取高压力学生列表\
- 系统自动根据规则生成压力预警\
- 强调数据隐私、安全存储与访问权限

------------------------------------------------------------------------

### 3.2 课程主任（Course Director）

主要关注学习行为是否影响学业表现。

**需求包括：** - 查看出勤率趋势与课程参与情况\
- 分析作业提交情况与成绩的关系\
- 比较压力与课程表现的关联\
- 简洁的可视化报表（如折线图、饼图）

------------------------------------------------------------------------

## 4. 功能性需求

### 4.1 数据采集


系统收集以下信息：

-   **学生信息**：学号、姓名、专业、邮箱、学习年级\
-   **课程模块（Module）**：模块名称、负责教师等\
-   **选课信息**：学生与课程的多对多关系\
-   **出勤记录**：按学生、课程、周次的出勤状态\
-   **作业提交情况**：提交时间、是否按时、成绩\
-   **福祉调查（Survey）**：
    -   压力等级（1--5）\
    -   睡眠时长\
    -   心情备注

------------------------------------------------------------------------

### 4.2 数据管理（CRUD）

提供对所有实体的创建、查询、更新与逻辑 / 物理删除，包括：

-   学生\
-   用户\
-   模块\
-   出勤记录\
-   提交记录\
-   成绩\
-   调查问卷\
-   压力事件（stress_events）\
-   压力预警（alerts）

其中，逻辑删除通过 `is_active` 字段控制。

------------------------------------------------------------------------

### 4.3 数据分析功能

-   统计学生平均出勤率\
-   展示学生压力变化曲线\
-   检测连续两周压力 ≥ 4 的学生\
-   自动创建预警记录\
-   对比不同学生群体的压力与成绩关系

------------------------------------------------------------------------

### 4.4 可视化需求

可视化图表包括（但不限于）：

-   压力趋势折线图\
-   出勤率柱状图\
-   成绩分布饼图\
-   压力与成绩的散点图

前端由 Vue3 实现，后端提供 JSON API。

------------------------------------------------------------------------

## 5. 非功能性需求

### 5.1 安全性

-   使用 JWT 实现用户登录与认证\
-   敏感数据（如密码）必须哈希存储\
-   严格限制数据库字段白名单查询（防 SQL 注入）

### 5.2 可维护性

-   Repository 模式进行数据库访问封装\
-   统一使用 SQLite 进行原型开发\
-   清晰的文件结构（routes / services / repositories / models）

### 5.3 性能需求

-   支持针对 1000 名学生规模的快速查询\
-   数据库查询必须具有 O(1) 或 O(n) 性能，无复杂嵌套查询

------------------------------------------------------------------------

## 6. 高压力事件与预警逻辑

### 6.1 高压力事件（Stress Events）

当学生某一周 stress ≥ 4 时自动记录到 `stress_events`：\
- 包含压力等级\
- 关联调查问卷\
- 可记录压力原因类型（academic / personal 等）

### 6.2 预警机制（Alerts）

当学生 **连续两周压力 ≥ 4** 时：\
- 自动生成一条预警\
- 预警只保留每个学生最近的一条

------------------------------------------------------------------------

## 7. 系统工作流程概述

1.  学生提交每周福祉问卷\
2.  系统写入 survey_responses\
3.  若 stress ≥ 4 → 写入 stress_events\
4.  若连续两周 stress ≥ 4 → 写入 alerts\
5.  后端提供 API → 前端 Vue 展示趋势与预警\
6.  管理员根据数据做干预与支持

------------------------------------------------------------------------

## 8. 总结

本系统通过统一存储数据、分析学生状态，并提供压力预警机制，为学生福祉管理与学业支持提供技术基础。后续可扩展
AI 模型预测、个性化学习建议等高级功能。
